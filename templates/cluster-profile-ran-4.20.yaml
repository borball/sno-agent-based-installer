cluster:
  capabilities:
    baselineCapabilitySet: None
    additionalEnabledCapabilities:
      - NodeTuning
      - OperatorLifecycleManager
      - Ingress
      
cluster_tunings: 4.20

node_tunings:
  workload_partitioning:
    enabled: true
  performance_profile:
    enabled: true
    profile: ran
    # name: sno-perfprofile
    spec:
      cpu:
        isolated: 2-31,34-63
        reserved: 0-1,32-33
      hardwareTuning:
        isolatedCpuFreq: 2500000
        reservedCpuFreq: 2500000

  tuned_profile:
    enabled: true
    profiles:
    # Dell XR8620t example
    - profile: performance-patch
      #spec:
        # performance_profile_name: sno-perfprofile
    - profile: dell-nmi
   #- profile: dell-microcode
    # HPE DL110 Gen 11 example
    # - profile: performance-patch
    #   spec:
    #     performance_profile_name: sno-perfprofile
    # - profile: hpe-microcode


update_control:
  pause_before_update: true
  delay_after_update: 60
  disable_operator_auto_upgrade: true

operators:
  example:
    enabled: false
    version: example.v4.20.0-202507211933
    # data will be passed to the manifests(j2 templates) as env variables
    data: 
      key1: value1
      key2: value2
      key3: value3
    
    # day1 configurations
    # a|b is the folder name under templates/day1/example, 
    # for example templates/day1/example, profile can be : a or b
    # if day1 not specified:
    #   files under templates/day1/example/ and templates/day1/example/default will be applied
    # if day1 specified, 
    #   files under templates/day1/example/ directory will be applied
    #   for each profile in day1, files under templates/day1/example/$profile will be applied
    # for the case below:
    #   files under templates/day1/example/ will be applied
    #   files under templates/day1/example/a will be applied
    #   files under templates/day1/example/b will be applied
    # supported file types:
    #   *.sh (executed before other files)
    #   *.yaml
    #   *.yaml.j2
    day1:
      - profile: a
      - profile: b

    # day2 configurations
    # a|b is the folder name under templates/day2/example, 
    # for example templates/day2/example, profile can be : a or b
    # if day2 not specified:
    #   files under templates/day2/example/ and templates/day2/example/default will be applied
    # if day2 specified, 
    #   files under templates/day2/example/ directory will be applied
    #   for each profile in day2, files under templates/day2/example/$profile will be applied
    # for the case below:
    #   files under templates/day2/example/ will be applied
    #   files under templates/day2/example/a will be applied
    #   files under templates/day2/example/b will be applied
    # supported file types:
    #   *.sh (executed before other files)
    #   *.yaml
    #   *.yaml.j2
    day2:
      - profile: a
      - profile: b

  local-storage:
    enabled: true
    source: prega
    data:
      local_volume:
        name: local-disks
        storageClassName: general
      fs_type: ext4
      #Get the ID with command: udevadm info -q property --property=ID_PATH /dev/nvme1n1
      disk_by_path: example-to-be-replaced
      partitions:
        10g: 30

  ptp:
    enabled: true
    source: prega
    # no need to specify day2
    # event-notification-api will be under templates/day2/ptp
    # boundary-clock will be under templates/day2/ptp/default
    #day2:
      #- profile: event-notification-api
      #- profile: boundary-clock
    data: 
      event_api_version: "2.0"
      clock_threshold_tuning:
        hold_over_timeout: 5
        max_offset: 500
        min_offset: -500
      ordinary_clock:
        #name: crdu-ptp-ordinary-clock
        interface: ens1f0
      boundary_clock:
        # only supported for 4.16+, when not enabled, the profiles[0] is used for system clock, 4.15 or earlier versions must set it as false
        ha_enabled: false
        #name (default): crdu-boundary-clock-ptp-config
        #name: crdu-boundary-clock-ptp-config
        profiles:
        - name: bc-profile-nic1
          slave: ens1f0
          masters:
            - ens1f1
            - ens1f2
            - ens1f3
          ptp4lConf:
            boundary_clock_jbod: 0
        - name: bc-profile-nic2
          slave: ens2f0
          masters:
            - ens2f1
            - ens2f2
            - ens2f3
          ptp4lConf:
            boundary_clock_jbod: 0


  sriov:
    enabled: true
    source: prega
    #Do not lock version in preGA
    #version: sriov-network-operator.v4.20.0-202507211933

  fec:
    enabled: true
    #Do not lock version in preGA
    #version: sriov-fec.v2.11.1

  cluster-logging:
    enabled: true
    source: prega
    #Do not lock version in preGA
    #version: cluster-logging.v6.2.4
    
  lca:
    enabled: true
    source: prega
    #Do not lock version in preGA
    #version: lifecycle-agent.v4.20.0
  adp:
    source: prega
    enabled: true
    #Do not lock version in preGA
    #version: oadp-operator.v1.4.5

  lvm:
    enabled: false
    source: prega
    #Do not lock version in preGA
    #version: lvm-operator.v4.20.0
    data:
      disks:
        - path: /dev/disk/by-path/example-to-be-replaced
          wipe_table: true
      device_classes:
        - name: vg1
          thin_pool_name: thin-pool-1
          selector:
            paths:
              - /dev/disk/by-path/example-to-be-replaced
    day1:
      - profile: wipe-disks
cpu:
  isolated: 2-31,34-63
  reserved: 0-1,32-33

proxy:
  enabled: false

pull_secret: ${HOME}/pull-secret.json
ssh_key: ${HOME}/.ssh/id_rsa.pub
ssh_priv_key: ${HOME}/.ssh/id_rsa

catalog_sources:
  create_marketplace_ns: true
  update_operator_hub: false
  create_default_catalog_sources: true
  defaults: []
  customs: 
    - name: prega
      display: Red Hat Operators OCP_Y_RELEASE PreGA
      image: quay.io/prega/prega-operator-index:vOCP_Y_RELEASE
      publisher: Red Hat
    - name: certified-operators
      display: Certified Operators
      image: registry.redhat.io/redhat/certified-operator-index:v4.19
      publisher: Red Hat
container_registry:
  icsp:
    - templates/day1/icsp/prega-OCP_Y_RELEASE.yaml

readiness:
  default: true
